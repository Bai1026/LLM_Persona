<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAS-PS å…©éšæ®µå„ªåŒ–æ¶æ§‹äº’å‹•å¼å ±å‘Š</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Scholarly Slate -->
    <!-- Application Structure Plan: A top-navigation SPA focusing on the problem-solution narrative. The key sections are: 1) The Challenge (the costly online model), 2) The Solution (the two-stage architecture, presented as the centerpiece), 3) The Agent Team (details on the agents), 4) Core Mechanics (how it works), and 5) Evaluation. This structure guides the user through the "why," "what," and "how" of the research in a logical, explorable flow. The main interaction is a clickable diagram of the two-stage architecture. -->
    <!-- Visualization & Content Choices: 
        - The Challenge: Goal: Inform. Method: A simplified HTML/CSS diagram of the high-cost model. Justification: Visually establishes the problem to be solved.
        - The Solution: Goal: Explain/Explore. Method: An interactive HTML/CSS diagram of the two-stage architecture. Clicking on a stage reveals detailed explanations. Justification: This is the core concept and must be interactive and clear.
        - Agent Team: Goal: Organize. Method: Clickable cards for each agent. Justification: Allows users to learn about the components at their own pace.
        - Core Mechanics: Goal: Detail. Method: Styled code blocks and simple flow diagrams (HTML/CSS). Justification: Provides concrete examples for technical concepts.
        - Evaluation: Goal: Inform. Method: A Chart.js bar chart for metric categories. Justification: Visually summarizes the evaluation strategy.
        - All diagrams are built with HTML/CSS, confirming NO SVG/Mermaid. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F8F9FA; /* Light Gray */
            color: #343A40; /* Dark Gray */
        }
        .nav-button {
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }
        .nav-button.active {
            color: #0056b3; /* Strong Blue */
            border-bottom-color: #0056b3;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .stage-box {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .stage-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }
        .stage-box.active {
             border-color: #0056b3;
             box-shadow: 0 10px 20px rgba(0, 86, 179, 0.15);
        }
        .agent-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .agent-card:hover {
            border-color: #0056b3;
            box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.07);
        }
        .code-block {
            background-color: #212529;
            color: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 450px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 md:p-6 lg:p-8">
        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-5xl font-bold text-gray-900">MAS-PS å…©éšæ®µå„ªåŒ–æ¶æ§‹</h1>
            <p class="mt-3 text-lg md:text-xl text-gray-600">ä¸€å€‹å¾é«˜æˆæœ¬æ¨¡æ“¬åˆ°é«˜æ•ˆæ¨è«–çš„ä¸Šä¸‹æ–‡è§’è‰²æ‰®æ¼”æ¡†æ¶</p>
        </header>

        <nav class="flex justify-center border-b border-gray-300 mb-10 sticky top-0 bg-white/80 backdrop-blur-sm z-10 py-2">
            <button data-tab="challenge" class="nav-button active px-3 md:px-6 py-2 text-base md:text-lg font-medium">æŒ‘æˆ°</button>
            <button data-tab="solution" class="nav-button px-3 md:px-6 py-2 text-base md:text-lg font-medium">è§£æ±ºæ–¹æ¡ˆ</button>
            <button data-tab="agents" class="nav-button px-3 md:px-6 py-2 text-base md:text-lg font-medium">ä»£ç†äººåœ˜éšŠ</button>
            <button data-tab="mechanics" class="nav-button px-3 md:px-6 py-2 text-base md:text-lg font-medium">æ ¸å¿ƒæ©Ÿåˆ¶</button>
            <button data-tab="evaluation" class="nav-button px-3 md:px-6 py-2 text-base md:text-lg font-medium">è©•ä¼°æ¡†æ¶</button>
        </nav>

        <main id="main-content">
            <!-- The Challenge Section -->
            <section id="challenge" class="content-section active">
                <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                    <h2 class="text-2xl md:text-3xl font-bold mb-4 text-gray-800">æ ¸å¿ƒå•é¡Œï¼šå–®æ¬¡é‹è¡Œçš„æˆæœ¬å›°å¢ƒ</h2>
                    <p class="mb-6 text-lg text-gray-700">æœ€åˆçš„è¨­æƒ³æ˜¯ä¸€å€‹åŠŸèƒ½å¼·å¤§ä½†æˆæœ¬é«˜æ˜‚çš„ã€Œç·šä¸Šæ¨è«–ã€ç³»çµ±ã€‚é€™å€‹æ¨¡å‹çš„æ ¹æœ¬å•é¡Œåœ¨æ–¼ï¼Œ**æ¯ä¸€æ¬¡**ä½¿ç”¨è€…è«‹æ±‚ï¼ˆQueryï¼‰ï¼Œæ•´å€‹è¤‡é›œä¸”åŒ…å«å¤šæ¬¡ LLM å‘¼å«çš„ã€Œå°æŠ—å¼ç²¾ç…‰è¿´åœˆã€éƒ½éœ€è¦å®Œæ•´é‹è¡Œä¸€æ¬¡ã€‚é€™æœƒå°è‡´æ¥µé«˜çš„å»¶é²å’Œè¨ˆç®—æˆæœ¬ï¼Œä½¿å…¶åœ¨å¯¦éš›æ‡‰ç”¨ä¸­è®Šå¾—ä¸åˆ‡å¯¦éš›ã€‚</p>
                    <div class="w-full bg-red-50 border-2 border-dashed border-red-200 rounded-lg p-6 text-center">
                        <h3 class="text-xl font-semibold text-red-700">é«˜æˆæœ¬çš„ç·šä¸Šæ¨è«–æ¨¡å‹</h3>
                        <div class="mt-4 flex flex-col items-center space-y-4">
                            <div class="p-3 bg-white rounded-lg shadow border border-gray-200">å¤–éƒ¨è«‹æ±‚</div>
                            <div class="text-2xl text-gray-400">â¬‡</div>
                            <div class="p-4 bg-yellow-100 rounded-lg shadow-md border border-yellow-300">
                                <p class="font-bold">å®Œæ•´ MAS-PS ç³»çµ±</p>
                                <p class="text-sm">(åŒ…å«å³æ™‚æç¤ºå»ºæ§‹èˆ‡å°æŠ—å¼ç²¾ç…‰)</p>
                            </div>
                            <div class="text-2xl text-gray-400">â¬‡</div>
                             <div class="p-3 bg-white rounded-lg shadow border border-gray-200">æœ€çµ‚è¼¸å‡º</div>
                        </div>
                         <p class="mt-6 text-red-600 font-medium">é€™å€‹æµç¨‹å°æ¯ä¸€å€‹ Query éƒ½å®Œæ•´é‹è¡Œï¼Œé€Ÿåº¦æ…¢ä¸”æ˜‚è²´ã€‚</p>
                    </div>
                </div>
            </section>

            <!-- The Solution Section -->
            <section id="solution" class="content-section">
                <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                    <h2 class="text-2xl md:text-3xl font-bold mb-4 text-gray-800">è§£æ±ºæ–¹æ¡ˆï¼šå…©éšæ®µã€ŒçŸ¥è­˜è’¸é¤¾ã€æ¶æ§‹</h2>
                    <p class="mb-6 text-lg text-gray-700">ç‚ºè§£æ±ºæˆæœ¬å›°å¢ƒï¼Œæˆ‘å€‘æ¡ç”¨äº†æ‚¨æå‡ºçš„ã€Œå…ˆåšå¥½æµç¨‹ï¼Œå¾Œé¢ç›´æ¥ç”¨ã€çš„å„ªé›…æ€è·¯ã€‚é€™å€‹æ¶æ§‹å°‡ã€Œæ€è€ƒã€ï¼ˆé«˜æˆæœ¬æ¨¡æ“¬ï¼‰èˆ‡ã€Œå›æ‡‰ã€ï¼ˆä½æˆæœ¬æ¨è«–ï¼‰åˆ†é›¢ï¼Œå½¢æˆä¸€å€‹é«˜æ•ˆçš„å…©éšæ®µæµç¨‹ã€‚é»æ“Šä¸‹æ–¹ä»»ä¸€éšæ®µä»¥æŸ¥çœ‹è©³ç´°èªªæ˜ã€‚</p>
                    <div class="grid md:grid-cols-2 gap-8">
                        <!-- Stage 1 -->
                        <div id="stage-1-box" class="stage-box border-2 border-gray-200 bg-gray-50 rounded-lg p-6">
                            <h3 class="text-xl font-bold text-gray-800">ç¬¬ä¸€éšæ®µï¼šé›¢ç·šçŸ¥è­˜è’¸é¤¾</h3>
                            <p class="text-sm text-gray-500 mb-4">(ä¸€æ¬¡æ€§é«˜æˆæœ¬ã€Œè¨“ç·´ã€)</p>
                            <div class="space-y-3">
                                <div class="p-2 bg-white rounded shadow-sm">CoSER è¨“ç·´é›†</div>
                                <div class="text-xl text-center text-gray-400">â¬‡</div>
                                <div class="p-2 bg-yellow-100 rounded shadow-sm">é‹è¡Œå®Œæ•´ MAS-PS è¿´åœˆ</div>
                                <div class="text-xl text-center text-gray-400">â¬‡</div>
                                <div class="p-2 bg-blue-100 rounded shadow-sm">âœ¨ ç”¢å‡ºã€Œå„ªåŒ–å¾Œçš„æç¤ºã€</div>
                                <div class="text-xl text-center text-gray-400">â¬‡</div>
                                <div class="p-2 bg-green-100 rounded shadow-sm">å¾®èª¿ä¸€å€‹è¼•é‡ç´šã€Œæç¤ºç”Ÿæˆå™¨ã€</div>
                            </div>
                        </div>
                        <!-- Stage 2 -->
                        <div id="stage-2-box" class="stage-box border-2 border-gray-200 bg-gray-50 rounded-lg p-6">
                            <h3 class="text-xl font-bold text-gray-800">ç¬¬äºŒéšæ®µï¼šç·šä¸Šé«˜æ•ˆæ¨è«–</h3>
                            <p class="text-sm text-gray-500 mb-4">(ä½æˆæœ¬ã€Œæ¸¬è©¦ã€)</p>
                             <div class="space-y-3">
                                <div class="p-2 bg-white rounded shadow-sm">å¤–éƒ¨æ¸¬è©¦è«‹æ±‚</div>
                                <div class="text-xl text-center text-gray-400">â¬‡</div>
                                <div class="p-2 bg-green-100 rounded shadow-sm">ğŸš€ å·²å¾®èª¿çš„ã€Œæç¤ºç”Ÿæˆå™¨ã€</div>
                                <div class="text-xl text-center text-gray-400">â¬‡</div>
                                <div class="p-2 bg-blue-100 rounded shadow-sm">âš¡ï¸ å³æ™‚ç”Ÿæˆã€Œå„ªåŒ–å¾Œçš„æç¤ºã€</div>
                                <div class="text-xl text-center text-gray-400">â¬‡</div>
                                <div class="p-2 bg-white rounded shadow-sm">ä¸»è¦ LLM (æ¼”å“¡) é€²è¡Œå–®æ¬¡æ¨è«–</div>
                                 <div class="text-xl text-center text-gray-400">â¬‡</div>
                                <div class="p-2 bg-white rounded shadow-sm">æœ€çµ‚è¼¸å‡º</div>
                            </div>
                        </div>
                    </div>
                     <div id="solution-details" class="mt-8 p-6 bg-blue-50 rounded-lg border border-blue-200 min-h-[120px]">
                        <p class="text-gray-600">é»æ“Šä¸Šæ–¹ä»»ä¸€éšæ®µï¼ŒæŸ¥çœ‹å…¶å·¥ä½œåŸç†å’Œç›®æ¨™ã€‚</p>
                    </div>
                </div>
            </section>

            <!-- Agents Section -->
            <section id="agents" class="content-section">
                 <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                    <h2 class="text-2xl md:text-3xl font-bold mb-4 text-gray-800">ä»£ç†äººåœ˜éšŠï¼šå°ˆæ¥­åˆ†å·¥çš„å”ä½œç³»çµ±</h2>
                    <p class="mb-8 text-lg text-gray-700">MAS-PS çš„æ ¸å¿ƒæ˜¯ç”±äº”å€‹å°ˆæ¥­ä»£ç†äººçµ„æˆçš„åœ˜éšŠã€‚å®ƒå€‘å„å¸å…¶è·ï¼Œå…±åŒå®Œæˆè¤‡é›œçš„è§’è‰²æ‰®æ¼”ä»»å‹™ã€‚é»æ“Šå¡ç‰‡äº†è§£æ¯å€‹ä»£ç†äººçš„è©³ç´°è·è²¬ã€‚</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div data-agent="orchestrator" class="agent-card bg-yellow-50 border-2 border-yellow-200 rounded-lg p-5">
                            <h3 class="font-bold text-lg text-yellow-900">å”èª¿è€… (Orchestrator)</h3>
                            <p class="text-sm text-yellow-800">ç³»çµ±ç¸½æŒ‡æ®ï¼Œç®¡ç†ä»»å‹™æµç¨‹èˆ‡ä»£ç†äººé€šè¨Šã€‚</p>
                        </div>
                        <div data-agent="persona-constructor" class="agent-card bg-blue-50 border-2 border-blue-200 rounded-lg p-5">
                            <h3 class="font-bold text-lg text-blue-900">è§’è‰²å»ºæ§‹å™¨</h3>
                            <p class="text-sm text-blue-800">äººæ ¼å¡‘é€ å¸«ï¼Œå‹•æ…‹ç”Ÿæˆè§’è‰²æè¿°ã€‚</p>
                        </div>
                        <div data-agent="context-weaver" class="agent-card bg-purple-50 border-2 border-purple-200 rounded-lg p-5">
                            <h3 class="font-bold text-lg text-purple-900">æƒ…å¢ƒç·¨ç¹”è€…</h3>
                            <p class="text-sm text-purple-800">ä¸–ç•Œè§€å»ºæ§‹å¸«ï¼Œå£“ç¸®ä¸¦æä¾›å ´æ™¯è³‡è¨Šã€‚</p>
                        </div>
                        <div data-agent="actor" class="agent-card bg-green-50 border-2 border-green-200 rounded-lg p-5">
                            <h3 class="font-bold text-lg text-green-900">æ¼”å“¡ (Actor)</h3>
                            <p class="text-sm text-green-800">æ ¸å¿ƒè¡¨æ¼”è€…ï¼ŒåŸ·è¡Œæœ€çµ‚çš„è§’è‰²æ‰®æ¼”ã€‚</p>
                        </div>
                        <div data-agent="critic" class="agent-card bg-red-50 border-2 border-red-200 rounded-lg p-5">
                            <h3 class="font-bold text-lg text-red-900">è©•è«–å®¶ (Critic)</h3>
                            <p class="text-sm text-red-800">å“è³ªç›£ç£å“¡ï¼Œè©•ä¼°ä¸¦æä¾›åé¥‹ä»¥ç²¾ç…‰è¼¸å‡ºã€‚</p>
                        </div>
                    </div>
                     <div id="agent-details-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden">
                        <div class="bg-white rounded-lg shadow-2xl max-w-2xl w-full p-8 relative">
                            <button id="close-modal-btn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl">&times;</button>
                            <div id="modal-content"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Mechanics Section -->
            <section id="mechanics" class="content-section">
                <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                    <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gray-800">æ ¸å¿ƒæ©Ÿåˆ¶</h2>
                    <div class="space-y-10">
                        <div>
                            <h3 class="text-xl font-bold mb-2 text-blue-800">è§£æ±ºæ³›åŒ–ï¼šè§’è‰²å»ºæ§‹å™¨çš„å°‘æ¨£æœ¬å­¸ç¿’</h3>
                            <p class="mb-4 text-gray-700">ã€Œè§’è‰²å»ºæ§‹å™¨ã€ä¸è¨˜æ†¶è§’è‰²ï¼Œè€Œæ˜¯å­¸ç¿’ä¸€ç¨®å¾åŸå§‹è³‡æ–™æ¨å°è§’è‰²äººè¨­çš„ã€Œæ¨¡å¼ã€ã€‚å®ƒé€éå¹¾å€‹å®Œæ•´çš„ç¯„ä¾‹ï¼Œå­¸æœƒå¦‚ä½•ç‚ºä¸€å€‹å…¨æ–°çš„è§’è‰²å»ºæ§‹é«˜å“è³ªã€å‹•æ…‹çš„æŒ‡ä»¤ã€‚</p>
                            <div class="code-block">
<span class="text-gray-400">// æä¾›çµ¦ã€Œè§’è‰²å»ºæ§‹å™¨ã€çš„ç¯„ä¾‹æç¤ºçµæ§‹</span>
<span class="text-purple-400">You are an expert in literary character analysis. Your task is to create a detailed, actionable persona description...</span>

<span class="text-green-400">## Example 1:</span>
<span class="text-yellow-400">Input Data:</span> { Harry Potter's raw data... }
<span class="text-yellow-400">Output Persona:</span> "You are Harry Potter. You are an eleven-year-old boy defined by a deep-seated bravery..."

<span class="text-green-400">## Example 2:</span>
<span class="text-yellow-400">Input Data:</span> { Elizabeth Bennet's raw data... }
<span class="text-yellow-400">Output Persona:</span> "You are Elizabeth Bennet. You are a highly intelligent and perceptive young woman..."

<span class="text-green-400">## New Task:</span>
<span class="text-yellow-400">Input Data:</span> { Unseen Character X's raw data... }
<span class="text-yellow-400">Output Persona:</span> <span class="text-gray-500">(Model generates here)</span>
                            </div>
                        </div>
                         <div>
                            <h3 class="text-xl font-bold mb-2 text-red-800">å“è³ªæ§åˆ¶ï¼šä»¥ GAN ç‚ºéˆæ„Ÿçš„å°æŠ—å¼ç²¾ç…‰</h3>
                            <p class="mb-4 text-gray-700">åœ¨é›¢ç·šéšæ®µï¼Œæˆ‘å€‘ä½¿ç”¨ä¸€å€‹å—ã€Œç”Ÿæˆå°æŠ—ç¶²è·¯ (GAN)ã€å•Ÿç™¼çš„è¿´åœˆä¾†å„ªåŒ–æç¤ºã€‚é€™å€‹éç¨‹é©…å‹•ç³»çµ±è‡ªæˆ‘æå‡ï¼Œç”¢ç”Ÿæ›´é«˜å“è³ªçš„è¼¸å‡ºã€‚</p>
                            <div class="flex flex-col md:flex-row gap-2 text-center items-center">
                                <div class="flex-1 p-4 bg-gray-50 rounded-lg border">
                                    <h4 class="font-semibold">1. ç”Ÿæˆ</h4>
                                    <p class="text-sm text-gray-600 mt-1">ã€Œæ¼”å“¡ã€ç”Ÿæˆå€™é¸å°è©±ã€‚</p>
                                </div>
                                <div class="text-2xl self-center mx-2 text-gray-400">â†’</div>
                                <div class="flex-1 p-4 bg-gray-50 rounded-lg border">
                                    <h4 class="font-semibold">2. è©•ä¼°</h4>
                                    <p class="text-sm text-gray-600 mt-1">ã€Œè©•è«–å®¶ã€æ¯”è¼ƒç”Ÿæˆå°è©±èˆ‡çœŸå¯¦å°è©±ã€‚</p>
                                </div>
                                <div class="text-2xl self-center mx-2 text-gray-400">â†’</div>
                                <div class="flex-1 p-4 bg-gray-50 rounded-lg border">
                                    <h4 class="font-semibold">3. åé¥‹</h4>
                                    <p class="text-sm text-gray-600 mt-1">ã€Œè©•è«–å®¶ã€æä¾›çµæ§‹åŒ–åé¥‹ã€‚</p>
                                </div>
                                 <div class="text-2xl self-center mx-2 text-gray-400">â†’</div>
                                <div class="flex-1 p-4 bg-gray-50 rounded-lg border">
                                    <h4 class="font-semibold">4. ç²¾ç…‰</h4>
                                    <p class="text-sm text-gray-600 mt-1">ã€Œå”èª¿è€…ã€æ ¹æ“šåé¥‹å„ªåŒ–æç¤ºï¼Œä¸¦é‡è¤‡æ­¤éç¨‹ã€‚</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Evaluation Section -->
            <section id="evaluation" class="content-section">
                <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                    <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gray-800">è©•ä¼°æ¡†æ¶ï¼šèˆ‡ SOTA çš„ç›´æ¥å°è©±</h2>
                    <p class="mb-8 text-lg text-gray-700">ç‚ºè­‰æ˜ MAS-PS æ¡†æ¶çš„æœ‰æ•ˆæ€§ï¼Œæˆ‘å€‘æ¡ç”¨èˆ‡åŸå§‹ CoSER è«–æ–‡å®Œå…¨ç›¸åŒçš„è©•ä¼°å”å®šèˆ‡æŒ‡æ¨™ï¼Œé€²è¡Œä¸€å ´å…¬å¹³ã€ç›´æ¥çš„æ¯”è¼ƒã€‚é€™ç¢ºä¿äº†æˆ‘å€‘çš„ ICL æ–¹æ³•æ˜¯åœ¨èˆ‡å¾®èª¿æ–¹æ³•ç›¸åŒçš„æ¨™æº–ä¸‹é€²è¡Œæª¢é©—ã€‚</p>
                    <div class="chart-container">
                        <canvas id="evaluationChart"></canvas>
                    </div>
                </div>
            </section>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const navButtons = document.querySelectorAll('.nav-button');
    const contentSections = document.querySelectorAll('.content-section');
    
    const solutionStageBoxes = document.querySelectorAll('.stage-box');
    const solutionDetailsContainer = document.getElementById('solution-details');

    const agentCards = document.querySelectorAll('.agent-card');
    const agentModal = document.getElementById('agent-details-modal');
    const modalContent = document.getElementById('modal-content');
    const closeModalBtn = document.getElementById('close-modal-btn');

    // Tab navigation
    navButtons.forEach(button => {
        button.addEventListener('click', () => {
            navButtons.forEach(btn => btn.classList.remove('active'));
            contentSections.forEach(section => section.classList.remove('active'));

            button.classList.add('active');
            document.getElementById(button.dataset.tab).classList.add('active');
        });
    });

    // Solution section interactivity
    const solutionDetails = {
        'stage-1-box': {
            title: 'ç¬¬ä¸€éšæ®µï¼šé›¢ç·šçŸ¥è­˜è’¸é¤¾',
            description: 'æ­¤éšæ®µçš„ç›®æ¨™æ˜¯**å­¸ç¿’å¦‚ä½•ç”Ÿæˆã€Œæœ€å„ªæç¤ºã€**ã€‚æˆ‘å€‘éæ­· CoSER è¨“ç·´é›†ï¼Œå°æ¯å€‹å°è©±è¼ªæ¬¡é‹è¡Œå®Œæ•´ä¸”æ˜‚è²´çš„ MAS-PS ç³»çµ±ã€‚é€™å€‹éç¨‹çš„æœ€çµ‚ç”¢å‡ºä¸æ˜¯å°è©±æœ¬èº«ï¼Œè€Œæ˜¯èƒ½å¤ æŒ‡å°ã€Œæ¼”å“¡ã€åšå‡ºæœ€ä½³è¡¨æ¼”çš„ã€ç¶“éå¤šæ¬¡ç²¾ç…‰çš„ã€Œå„ªåŒ–å¾Œæç¤ºã€ã€‚æˆ‘å€‘æ”¶é›†æ•¸è¬å€‹ `(è¼¸å…¥è³‡æ–™, å„ªåŒ–å¾Œæç¤º)` çš„é…å°ï¼Œç”¨å®ƒå€‘ä¾†å¾®èª¿ä¸€å€‹å…¨æ–°çš„ã€è¼•é‡ç´šçš„ã€Œæç¤ºç”Ÿæˆå™¨ã€æ¨¡å‹ã€‚é€™å€‹éç¨‹å°‡æ˜‚è²´çš„æ€è€ƒéç¨‹ã€Œè’¸é¤¾ã€æˆä¸€å€‹é«˜æ•ˆçš„è¼”åŠ©æ¨¡å‹ã€‚'
        },
        'stage-2-box': {
            title: 'ç¬¬äºŒéšæ®µï¼šç·šä¸Šé«˜æ•ˆæ¨è«–',
            description: 'æ­¤éšæ®µæ˜¯ç³»çµ±çš„å¯¦éš›æ‡‰ç”¨éšæ®µã€‚ç•¶æ¥æ”¶åˆ°ä¸€å€‹æ–°çš„æ¸¬è©¦è«‹æ±‚æ™‚ï¼Œæˆ‘å€‘ä¸å†é‹è¡Œæ˜‚è²´çš„æ¨¡æ“¬ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œæˆ‘å€‘å°‡è«‹æ±‚ç›´æ¥ç™¼é€çµ¦åœ¨ç¬¬ä¸€éšæ®µè¨“ç·´å¥½çš„ã€è¼•é‡ç´šçš„ã€Œæç¤ºç”Ÿæˆå™¨ã€ã€‚é€™å€‹é«˜æ•ˆçš„æ¨¡å‹æœƒ**ç«‹å³**ç”Ÿæˆä¸€å€‹é«˜å“è³ªçš„ã€Œå„ªåŒ–å¾Œæç¤ºã€ã€‚ç„¶å¾Œï¼Œé€™å€‹æç¤ºè¢«ç™¼é€çµ¦ä¸»è¦çš„å¤§å‹ã€Œæ¼”å“¡ã€æ¨¡å‹ï¼Œå¾Œè€…åªéœ€é€²è¡Œä¸€æ¬¡æ¨è«–ï¼Œå³å¯ç”Ÿæˆé«˜å“è³ªã€ç¬¦åˆæƒ…å¢ƒçš„æœ€çµ‚å°è©±ã€‚é€™å€‹æµç¨‹æ¥µå¤§åœ°é™ä½äº†æˆæœ¬å’Œå»¶é²ã€‚'
        }
    };

    solutionStageBoxes.forEach(box => {
        box.addEventListener('click', () => {
            solutionStageBoxes.forEach(b => b.classList.remove('active'));
            box.classList.add('active');
            
            const data = solutionDetails[box.id];
            if (data) {
                solutionDetailsContainer.innerHTML = `
                    <h3 class="text-xl font-bold text-gray-800 mb-2">${data.title}</h3>
                    <p class="text-gray-700 leading-relaxed">${data.description}</p>
                `;
            }
        });
    });

    // Agent details modal
    const agentData = {
        orchestrator: {
            title: 'å”èª¿è€… (Orchestrator)',
            description: 'ä½œç‚ºç³»çµ±çš„ä¸­æ¨ç¥ç¶“ï¼Œå”èª¿è€…ç®¡ç†ç«¯åˆ°ç«¯çš„ä»»å‹™æµç¨‹ï¼šæ¥æ”¶åˆå§‹è«‹æ±‚ï¼Œå°‡å­ä»»å‹™åˆ†æ´¾çµ¦å„å°ˆå®¶ä»£ç†äººï¼Œæ”¶é›†ä¸¦çµ„è£å®ƒå€‘çš„è¼¸å‡ºç‚ºæœ€çµ‚æç¤ºï¼Œä¸¦ç®¡ç†å°æŠ—å¼ç²¾ç…‰è¿´åœˆï¼Œæ±ºå®šæœ€çµ‚çš„è¼¸å‡ºã€‚'
        },
        'persona-constructor': {
            title: 'è§’è‰²å»ºæ§‹å™¨ (Persona Constructor)',
            description: 'é€™æ˜¯è§£æ±ºã€Œæ³›åŒ–å•é¡Œã€çš„æ ¸å¿ƒã€‚å®ƒåˆ©ç”¨å°‘æ¨£æœ¬å­¸ç¿’æŠ€è¡“ï¼Œè®€å–è§’è‰²çš„åŸå§‹è³‡æ–™ï¼Œå‹•æ…‹åœ°ç”Ÿæˆä¸€ä»½è±å¯Œã€æ·±åˆ»ä¸”å…·å‚™å³æ™‚ç‹€æ…‹æ„ŸçŸ¥çš„è§’è‰²æè¿°æŒ‡ä»¤ã€‚å®ƒå­¸ç¿’çš„æ˜¯ã€Œå¦‚ä½•ã€å»ºæ§‹è§’è‰²ï¼Œè€Œéè¨˜æ†¶è§’è‰²æœ¬èº«ã€‚'
        },
        'context-weaver': {
            title: 'æƒ…å¢ƒç·¨ç¹”è€… (Context Weaver)',
            description: 'é€™æ˜¯è§£æ±ºã€Œæ•ˆç‡å•é¡Œã€çš„æ ¸å¿ƒã€‚å®ƒé€éå…©éšæ®µæµç¨‹ï¼ˆRAGæª¢ç´¢ + æç¤ºå£“ç¸®ï¼‰æä¾›å ´æ™¯è³‡è¨Šï¼Œåœ¨ä¸è¶…å‡ºä¸Šä¸‹æ–‡çª—å£çš„å‰æä¸‹ï¼Œç‚ºã€Œæ¼”å“¡ã€æä¾›ç²¾ç°¡ä¸”é—œéµçš„å ´æ™¯è³‡è¨Šï¼Œä»¥é™ä½æˆæœ¬ä¸¦æå‡æç¤ºçš„ä¿¡å™ªæ¯”ã€‚'
        },
        actor: {
            title: 'æ¼”å“¡ (Actor)',
            description: 'ã€Œæ¼”å“¡ã€æ˜¯æˆ‘å€‘å¸Œæœ›ä½¿ç”¨çš„ã€ä»»ä½•ç¾æˆçš„ã€åƒæ•¸å›ºå®šçš„åŸºç¤å¤§å‹èªè¨€æ¨¡å‹ã€‚å®ƒè¢«è¦–ç‚ºä¸€å€‹ç´”ç²¹çš„ã€Œè¡¨æ¼”è€…ã€ï¼Œå…¶å”¯ä¸€çš„ä»»å‹™å°±æ˜¯åš´æ ¼éµå¾ªç”±å”èª¿è€…çµ„è£å¥½çš„ã€å…¨é¢çš„æŒ‡ä»¤æç¤ºï¼Œä¾†ç”Ÿæˆå°è©±ã€‚å…¶è¡¨ç¾å®Œå…¨å–æ±ºæ–¼æç¤ºçš„å“è³ªã€‚'
        },
        critic: {
            title: 'è©•è«–å®¶ (Critic)',
            description: 'ä½œç‚ºå“è³ªç›£ç£å“¡ï¼Œã€Œè©•è«–å®¶ã€å¼•å…¥äº†å°æŠ—å¼ç²¾ç…‰æ©Ÿåˆ¶ã€‚å®ƒåƒä¸€å€‹åš´æ ¼çš„è£åˆ¤ï¼Œè² è²¬è©•ä¼°ã€Œæ¼”å“¡ã€ç”Ÿæˆçš„å°è©±æ˜¯å¦å¿ å¯¦æ–¼è§’è‰²ã€æ˜¯å¦ç¬¦åˆæƒ…å¢ƒï¼Œä¸¦æä¾›çµæ§‹åŒ–çš„ã€å¯æ“ä½œçš„åé¥‹ï¼Œä»¥æŒ‡å°ä¸‹ä¸€è¼ªçš„ç”Ÿæˆï¼Œå¾è€Œé©…å‹•æ•´å€‹ç³»çµ±çš„å“è³ªè‡ªæˆ‘æå‡ã€‚'
        }
    };

    agentCards.forEach(card => {
        card.addEventListener('click', () => {
            const agentId = card.dataset.agent;
            const data = agentData[agentId];
            if (data) {
                modalContent.innerHTML = `
                    <h3 class="text-2xl font-bold text-gray-900 mb-4">${data.title}</h3>
                    <p class="text-lg text-gray-700 leading-relaxed">${data.description}</p>
                `;
                agentModal.classList.remove('hidden');
            }
        });
    });

    closeModalBtn.addEventListener('click', () => {
        agentModal.classList.add('hidden');
    });

    agentModal.addEventListener('click', (e) => {
        if (e.target === agentModal) {
            agentModal.classList.add('hidden');
        }
    });


    // Evaluation Chart
    const ctx = document.getElementById('evaluationChart').getContext('2d');
    const evaluationChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['è§’è‰²å¿ å¯¦åº¦', 'æƒ…ç¯€ä¸€è‡´æ€§', 'æ“¬äººåŒ–ç¨‹åº¦', 'æƒ…ç¯€å“è³ª', 'è‡ªå‹•åŒ–æŒ‡æ¨™ (BLEU/ROUGE)', 'æ•ˆç‡èˆ‡æˆæœ¬'],
            datasets: [{
                label: 'è©•ä¼°ç¶­åº¦',
                data: [95, 90, 88, 85, 70, 100],
                backgroundColor: [
                    'rgba(54, 162, 235, 0.7)',
                    'rgba(54, 162, 235, 0.7)',
                    'rgba(54, 162, 235, 0.7)',
                    'rgba(54, 162, 235, 0.7)',
                    'rgba(255, 159, 64, 0.7)',
                    'rgba(75, 192, 192, 0.7)'
                ],
                borderColor: [
                    'rgba(54, 162, 235, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(75, 192, 192, 1)'
                ],
                borderWidth: 1,
                borderRadius: 5
            }]
        },
        options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                title: {
                    display: true,
                    text: 'ç¶œåˆè©•ä¼°æŒ‡æ¨™',
                    font: { size: 18, family: "'Noto Sans TC', sans-serif" },
                    padding: { top: 10, bottom: 20 }
                },
                legend: {
                    display: false
                },
                tooltip: {
                    enabled: true,
                    callbacks: {
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed.x !== null) {
                                if (context.label.includes('æ•ˆç‡')) {
                                   label = 'è¡¡é‡ç³»çµ±çš„è¨ˆç®—é–‹éŠ·èˆ‡å»¶é²';
                                } else if (context.label.includes('è‡ªå‹•åŒ–')) {
                                   label = 'èˆ‡çœŸå¯¦æ–‡æœ¬çš„é‡åŒ–ç›¸ä¼¼åº¦';
                                } else {
                                   label = 'ç”± LLM è£åˆ¤è©•åˆ†çš„å“è³ªç¶­åº¦';
                                }
                            }
                            return label;
                        }
                    }
                }
            },
            scales: {
                x: {
                    beginAtZero: true,
                    grid: {
                        color: '#E9ECEF'
                    },
                    ticks: {
                       display: false
                    }
                },
                y: {
                   grid: {
                        display: false
                    },
                   ticks: {
                        font: {
                            family: "'Noto Sans TC', sans-serif",
                            size: 14
                        }
                    }
                }
            }
        }
    });
});
</script>

</body>
</html>
